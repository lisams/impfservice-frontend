<main class="container">
  <div class="row">
    <div class="col-12 col-lg-8">
      <div class="field p-4 p-lg-5 shadow-sm ">
        <header class="d-block d-lg-flex justify-content-between">
          <h2 class="fw-bold">Impfung: {{vaccination.location.title}}</h2>
          <button *ngIf="vaccinationCompleted && (vaccination.max_participants-vaccination.users.length > 0)">Anmelden
          </button>
        </header>

        <div class="row">
          <div class="col-12 col-md-6 pt-3">
            <span class="fw-bold">Zeitpunkt:</span><br>
            <span>Datum: {{vaccination.date | date : 'dd.MM.yyyy'}}</span><br>
            <span
              *ngIf="vaccination.start">Von: {{vaccination?.start.toString().substring(0, vaccination.start.toString().length - 3)}}</span><br>
            <span
              *ngIf="vaccination.end">Bis: {{vaccination?.end.toString().substring(0, vaccination.end.toString().length - 3)}}</span>
          </div>
          <div class="col-12 col-md-6 pt-3">
            <span class="fw-bold">Ort:</span><br>
            <span>{{vaccination.location.title}}</span><br>
            <span>{{vaccination.location.address.street_address}}</span><br>
            <span>{{vaccination.location.address.zip_code}} {{vaccination.location.address.city}}</span><br>
          </div>
        </div>

        <div *ngIf="vaccination.location.description" class="pt-3">
          <span class="fw-bold">Beschreibung:</span><br>
          <span>{{vaccination.location.description}}</span>
        </div>

        <div class="pt-3">
          <span class="fw-bold">Freie Plätze:</span><br>
          <span *ngIf="vaccination.max_participants-vaccination.users.length > 0"><span
            *ngIf="vaccination.max_participants-vaccination.users.length <= 5">Nur noch </span><span
            *ngIf="vaccination.max_participants-vaccination.users.length > 5"></span>
            {{vaccination.max_participants - vaccination.users.length}} freie Plätze
          </span>
          <span *ngIf="vaccination.max_participants-vaccination.users.length == 0">
            <span class="tc-red">Es sind keine freien Plätze verfügbar</span></span>
        </div>

        <button class="d-block mt-4 mb-5 button--secondary" routerLink="/impfungen">Zurück zur Übersicht</button>


        <div class="pt-4">
          <h3 class="fw-bold">Angemeldete Personen</h3>
          <p *ngIf="vaccination.users.length === 0" class="py-2">Keine Anmeldungen verfügbar</p>

          <ul class="list-unstyled vaccinationlist mb-0" *ngIf="vaccination.users.length != 0">
            <li *ngFor="let user of vaccination.users"
                class="vaccinationlist__item row d-flex justify-content-between align-items-center py-3">
              <span class="col-12 col-lg-6 col-xl-5">
                <span class="">
                  <i class="fas fa-check me-2 vaccinated__icon vaccinated__icon--true" *ngIf="user.vaccinated"></i>
                  <i class="fas fa-times me-2 vaccinated__icon vaccinated__icon--false" *ngIf="!user.vaccinated"></i>
                </span>
                <span class="fw-bold">{{user.firstname}} {{user.lastname}}</span> (SVNR: {{user.sv_nr}})</span>
              <span *ngIf="user.phone" class="col-12 col-lg-3 col-xl-4 ps-5 ps-lg-0"><span class="d-xl-inline d-none">Kontakt: </span><a
                href="tel:{{user.phone}}">{{user.phone}}</a></span>
              <div class="col-12 col-lg-3 ps-5 ps-lg-0">
                <a [routerLink]="['../../user', user?.sv_nr]" class="fw-bold"><i
                  class="fas fa-edit pe-2 d-none d-lg-inline"></i>Status bearbeiten</a>
              </div>
            </li>
          </ul>
        </div>

        <div class="mt-5 d-block d-lg-flex align-items-center justify-content-between" *ngIf="vaccinationCompleted">
          <h3 class="fw-bold mb-0">Bearbeitungsoptionen</h3>
          <div class="mt-3 mt-lg-0">
            <button class="button--secondary button--small" [routerLink]="['../../admin/', vaccination.id]"><i
              class="fas fa-edit pe-2"></i>Bearbeiten
            </button>
            <button class="button--secondary button--small" (click)="removeVaccination()"><i
              class="fas fa-trash-alt pe-2"></i>Löschen
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="field p-4 p-lg-5 shadow-sm ">
        <h2 class="fw-bold">Weiterführende Infos</h2>
        <p>
          Hier finden Sie eine Sammlung aller Informationen zur Corona-Schutzimpfung
        </p>

        <h4 class="fw-bold">Vorbeugende Tipps</h4>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aliquid assumenda blanditiis consectetur,
          eius est facilis harum hic illum iste obcaecati optio pariatur, perferendis provident quod ut veniam voluptate
          voluptates!</p>

        <h4 class="fw-bold">Die Impfstoffe</h4>
        <p>Serferendis provident quod ut veniam voluptate voluptates!</p>

        <h5 class="fw-bold">AstraZeneca</h5>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aliquid assumenda blanditiis consectetur,
          eius est facilis harum hic illum iste obcaecati optio pariatur, perferendis provident quod ut veniam voluptate
          voluptates!</p>

        <h5 class="fw-bold">Biontech/Pfizer</h5>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. At beatae blanditiis dolores error et ex
          exercitationem illum iure minus molestias nam nesciunt non officiis, placeat praesentium repellendus sequi
          sint voluptatum.
        </p>

        <h5 class="fw-bold">Sputnik V</h5>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aliquid assumenda blanditiis consectetur,
          eius est facilis harum hic illum iste obcaecati optio pariatur, perferendis provident quod ut veniam voluptate
          voluptates!</p>

        <button class="button--secondary">Mehr Infos</button>
      </div>
    </div>
  </div>
</main>
